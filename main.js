!function(){"use strict";var e=class{constructor(e,t,s){let{name:r,link:i,isLiked:n,_id:o}=e,{handleCardClick:a,handleDeleteClick:l,handleLikeClick:c}=t;this._title=r,this._link=i,this._id=o,this._isLiked=n,this._cardTemplate=s,this._handleCardClick=a,this._handleDeleteClick=l,this._handleLikeClick=c}_getTemplate(){return this._cardTemplate.cloneNode(!0).querySelector(".card")}setLike(e){this._isLiked=e,this._renderLike()}_renderLike=()=>{this._isLiked?this._likeBtn.classList.add("card__like-button_active"):this._likeBtn.classList.remove("card__like-button_active")};removeCard=()=>{this._cardElement.remove(),this._cardElement=null};_setEventListeners(){this._cardImage.addEventListener("click",this._handleCardClick),this._likeBtn.addEventListener("click",(()=>{this._handleLikeClick(this._id)})),this._deleteBtn.addEventListener("click",this._handleDeleteClick)}getView(){return this._cardElement=this._getTemplate(),this._cardTitle=this._cardElement.querySelector(".card__title"),this._cardImage=this._cardElement.querySelector(".card__image"),this._likeBtn=this._cardElement.querySelector(".card__like-button"),this._deleteBtn=this._cardElement.querySelector(".card__delete-button"),this._cardTitle.textContent=this._title,this._cardImage.alt=this._title,this._cardImage.src=this._link,this._renderLike(),this._setEventListeners(),this._cardElement}},t=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t}_showInputError(e,t){const s=this._formElement.querySelector(`.${e.id}-error`);e.classList.add(this._inputErrorClass),s.textContent=t,s.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`.${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled",!0)):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled"))}resetValidation(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}_setEventListeners(){this._inputList=[...this._formElement.querySelectorAll(this._inputSelector)],this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._toggleButtonState(),this.checkInputValidity(e)}))}))}enableValidation(){this._setEventListeners()}},s=class{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=t}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}setItem(e){this._container.prepend(e)}},r=class{constructor(e){let{popup:t}=e;this._popup=t}open(){this._popup.classList.add("modal_opened"),document.addEventListener("keydown",this._handleCloseByEsc)}close(){this._popup.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleCloseByEsc)}_handleCloseByEsc=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popup.addEventListener("mousedown",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal__close-button"))&&this.close()}))}},i=class extends r{constructor(e,t){let{popup:s,handleFormSubmit:r}=e;super({popup:s}),this._popupForm=this._popup,this._handleFormSubmit=r,this._inputSelector=t.inputSelector,this._inputList=[...this._popupForm.querySelectorAll(this._inputSelector)]}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),e.target.reset()}))}};const n=document.querySelector(".profile__title"),o=document.querySelector(".profile__description"),a=document.querySelector(".profile__image"),l=document.querySelector(".gallery__cards"),c=document.querySelector("#card-template").content,h=document.getElementById("edit-modal"),d=document.getElementById("new-card-modal"),u=document.getElementById("avatar-edit-modal"),_=document.getElementById("delete-confirmation-modal"),p=document.getElementById("preview-image-modal"),m=p.querySelector(".preview-image"),v=p.querySelector(".image-description"),E=document.querySelector(".profile__edit-button"),k=document.querySelector(".profile__plus-button"),L=document.querySelector(".edit__avatar-button"),b={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__confirm-button",inactiveButtonClass:"modal__confirm-button_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__input-error_active"};const g=new class{constructor(e){let{userName:t,userDescription:s,userProfileImage:r}=e;this._userName=t,this._userDescription=s,this._userProfileImage=r}getUserInfo(){const e={};return e.name=this._userName.textContent,e.about=this._userDescription.textContent,e}setUserInfo(e){this._userName.textContent=e.name,this._userDescription.textContent=e.about}setUserProfileImage(e){this._userProfileImage.src=e.avatar,this._userProfileImage.alt=this._userName.textContent}}({userName:n,userDescription:o,userProfileImage:a}),f=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_checkServerResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getUserInformation(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._checkServerResponse)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._checkServerResponse)}editProfileData(e){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._checkServerResponse)}addNewCard(e){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e.title,link:e.link})}).then(this._checkServerResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkServerResponse)}addLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._checkServerResponse)}deleteLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this._checkServerResponse)}updateProfileImage(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._checkServerResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"9fbfab1b-69d6-43a9-b085-60d57b074309","Content-Type":"application/json"}});Promise.all([f.getUserInformation(),f.getInitialCards()]).then((e=>{let[t,r]=e;g.setUserInfo(t),g.setUserProfileImage(t),new s({items:r,renderer:S},l).renderItems()}));const S=t=>{const s=(t=>{const s=new e(t,{handleCardClick:()=>C.open(t),handleDeleteClick:()=>{U.open(),U.submitForm((()=>{f.deleteCard(t._id).then((()=>{U.close(),s.removeCard()})).catch((e=>console.error(e)))}))},handleLikeClick:e=>{t.isLiked?f.deleteLike(e).then((e=>{s.setLike(e.isLiked),console.error("delete"),console.log(e.isLiked)})).catch((e=>console.error(e))):f.addLike(e).then((e=>{s.setLike(e),console.log("add"),console.log(e.isLiked)})).catch((e=>console.error(e)))}},c);return s.getView()})(t);I.setItem(s)},I=new s({items:[],renderer:()=>{}},l),C=new class extends r{constructor(e,t){let{popupImage:s,popupImageText:r}=e;super({popup:t}),this._popup=t,this._popupImage=s,this._popupImageText=r}open(e){super.open(),this._popupImage.src=e.link,this._popupImage.alt=e.name,this._popupImageText.textContent=e.name}}({popupImage:m,popupImageText:v},p),y=new i({popup:h,handleFormSubmit:e=>{f.editProfileData(e).then((e=>{g.setUserInfo(e),y.close()})).catch((e=>console.error(e)))}},b),B=new i({popup:d,handleFormSubmit:e=>{f.addNewCard(e).then((e=>{S(e),B.close()})).catch((e=>console.error(e)))}},b),w=new i({popup:u,handleFormSubmit:e=>{f.updateProfileImage(e).then((e=>{g.setUserProfileImage(e),w.close()})).catch((e=>console.error(e)))}},b),U=new class extends r{constructor(e,t){let{popup:s}=e;super({popup:s}),this._popupForm=this._popup,this._submitButton=t.submitButtonSelector}submitForm(e){this._handleFormSubmit=e}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}}({popup:_},b);E.addEventListener("click",(()=>{const e=g.getUserInfo();y.setInputValues(e),q["edit-form"].resetValidation(),y.open()})),k.addEventListener("click",(()=>{q["new-card-form"].resetValidation(),B.open()})),L.addEventListener("click",(()=>{q["avatar-edit-form"].resetValidation(),w.open()})),C.setEventListeners(),y.setEventListeners(),B.setEventListeners(),w.setEventListeners(),U.setEventListeners();const q={};(e=>{[...document.querySelectorAll(e.formSelector)].forEach((s=>{const r=new t(e,s),i=s.getAttribute("name");q[i]=r,r.enableValidation()}))})(b)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBdUVBLE1BdkVBLE1BQ0VBLFdBQUFBLENBQVdDLEVBQUFDLEVBR1RDLEdBQ0EsSUFIQSxLQUFFQyxFQUFJLEtBQUVDLEVBQUksUUFBRUMsRUFBTyxJQUFFQyxHQUFLTixHQUM1QixnQkFBRU8sRUFBZSxrQkFBRUMsRUFBaUIsZ0JBQUVDLEdBQWlCUixFQUd2RFMsS0FBS0MsT0FBU1IsRUFDZE8sS0FBS0UsTUFBUVIsRUFDYk0sS0FBS0osSUFBTUEsRUFDWEksS0FBS0csU0FBV1IsRUFDaEJLLEtBQUtJLGNBQWdCWixFQUNyQlEsS0FBS0ssaUJBQW1CUixFQUN4QkcsS0FBS00sbUJBQXFCUixFQUMxQkUsS0FBS08saUJBQW1CUixDQUMxQixDQUVBUyxZQUFBQSxHQUtFLE9BSm9CUixLQUFLSSxjQUN0QkssV0FBVSxHQUNWQyxjQUFjLFFBR25CLENBRUFDLE9BQUFBLENBQVFoQixHQUNOSyxLQUFLRyxTQUFXUixFQUNoQkssS0FBS1ksYUFDUCxDQUVBQSxZQUFjQSxLQUNSWixLQUFLRyxTQUNQSCxLQUFLYSxTQUFTQyxVQUFVQyxJQUFJLDRCQUU1QmYsS0FBS2EsU0FBU0MsVUFBVUUsT0FBTywyQkFDakMsRUFHRkMsV0FBYUEsS0FDWGpCLEtBQUtrQixhQUFhRixTQUNsQmhCLEtBQUtrQixhQUFlLElBQUksRUFHMUJDLGtCQUFBQSxHQUNFbkIsS0FBS29CLFdBQVdDLGlCQUFpQixRQUFTckIsS0FBS0ssa0JBRS9DTCxLQUFLYSxTQUFTUSxpQkFBaUIsU0FBUyxLQUN0Q3JCLEtBQUtPLGlCQUFpQlAsS0FBS0osSUFBSSxJQUdqQ0ksS0FBS3NCLFdBQVdELGlCQUFpQixRQUFTckIsS0FBS00sbUJBQ2pELENBRUFpQixPQUFBQSxHQWVFLE9BZEF2QixLQUFLa0IsYUFBZWxCLEtBQUtRLGVBRXpCUixLQUFLd0IsV0FBYXhCLEtBQUtrQixhQUFhUixjQUFjLGdCQUNsRFYsS0FBS29CLFdBQWFwQixLQUFLa0IsYUFBYVIsY0FBYyxnQkFDbERWLEtBQUthLFNBQVdiLEtBQUtrQixhQUFhUixjQUFjLHNCQUNoRFYsS0FBS3NCLFdBQWF0QixLQUFLa0IsYUFBYVIsY0FBYyx3QkFFbERWLEtBQUt3QixXQUFXQyxZQUFjekIsS0FBS0MsT0FDbkNELEtBQUtvQixXQUFXTSxJQUFNMUIsS0FBS0MsT0FDM0JELEtBQUtvQixXQUFXTyxJQUFNM0IsS0FBS0UsTUFFM0JGLEtBQUtZLGNBQ0xaLEtBQUttQixxQkFFRW5CLEtBQUtrQixZQUNkLEdDaUJGLEVBckZBLE1BQ0U3QixXQUFBQSxDQUFZdUMsRUFBUUMsR0FDbEI3QixLQUFLOEIsZUFBaUJGLEVBQU9HLGNBQzdCL0IsS0FBS2dDLHNCQUF3QkosRUFBT0sscUJBQ3BDakMsS0FBS2tDLHFCQUF1Qk4sRUFBT08sb0JBQ25DbkMsS0FBS29DLGlCQUFtQlIsRUFBT1MsZ0JBQy9CckMsS0FBS3NDLFlBQWNWLEVBQU9XLFdBRTFCdkMsS0FBS3dDLGFBQWVYLENBQ3RCLENBRUFZLGVBQUFBLENBQWdCQyxFQUFjQyxHQUM1QixNQUFNQyxFQUFlNUMsS0FBS3dDLGFBQWE5QixjQUNwQyxJQUFHZ0MsRUFBYUcsWUFHbkJILEVBQWE1QixVQUFVQyxJQUFJZixLQUFLb0Msa0JBQ2hDUSxFQUFhbkIsWUFBY2tCLEVBQzNCQyxFQUFhOUIsVUFBVUMsSUFBSWYsS0FBS3NDLFlBQ2xDLENBRUFRLGVBQUFBLENBQWdCSixHQUNkLE1BQU1FLEVBQWU1QyxLQUFLd0MsYUFBYTlCLGNBQ3BDLElBQUdnQyxFQUFhRyxZQUduQkgsRUFBYTVCLFVBQVVFLE9BQU9oQixLQUFLb0Msa0JBQ25DUSxFQUFhbkIsWUFBYyxHQUMzQm1CLEVBQWE5QixVQUFVRSxPQUFPaEIsS0FBS3NDLFlBQ3JDLENBRUFTLGtCQUFBQSxDQUFtQkwsR0FDWkEsRUFBYU0sU0FBU0MsTUFHekJqRCxLQUFLOEMsZ0JBQWdCSixHQUZyQjFDLEtBQUt5QyxnQkFBZ0JDLEVBQWNBLEVBQWFRLGtCQUlwRCxDQUVBQyxnQkFBQUEsR0FDRSxPQUFPbkQsS0FBS29ELFdBQVdDLE1BQU1YLElBQ25CQSxFQUFhTSxTQUFTQyxPQUVsQyxDQUVBSyxrQkFBQUEsR0FDTXRELEtBQUttRCxvQkFDUG5ELEtBQUt1RCxlQUFlekMsVUFBVUMsSUFBSWYsS0FBS2tDLHNCQUN2Q2xDLEtBQUt1RCxlQUFlQyxhQUFhLFlBQVksS0FFN0N4RCxLQUFLdUQsZUFBZXpDLFVBQVVFLE9BQU9oQixLQUFLa0Msc0JBQzFDbEMsS0FBS3VELGVBQWVFLGdCQUFnQixZQUV4QyxDQUVBQyxlQUFBQSxHQUNFMUQsS0FBS3NELHFCQUVMdEQsS0FBS29ELFdBQVdPLFNBQVNqQixJQUN2QjFDLEtBQUs4QyxnQkFBZ0JKLEVBQWEsR0FFdEMsQ0FFQXZCLGtCQUFBQSxHQUNFbkIsS0FBS29ELFdBQWEsSUFDYnBELEtBQUt3QyxhQUFhb0IsaUJBQWlCNUQsS0FBSzhCLGlCQUc3QzlCLEtBQUt1RCxlQUFpQnZELEtBQUt3QyxhQUFhOUIsY0FDdENWLEtBQUtnQyx1QkFHUGhDLEtBQUtvRCxXQUFXTyxTQUFTakIsSUFDdkJBLEVBQWFyQixpQkFBaUIsU0FBUyxLQUNyQ3JCLEtBQUtzRCxxQkFDTHRELEtBQUsrQyxtQkFBbUJMLEVBQWEsR0FDckMsR0FFTixDQUVBbUIsZ0JBQUFBLEdBQ0U3RCxLQUFLbUIsb0JBQ1AsR0NoRUYsRUFsQkEsTUFDRTlCLFdBQUFBLENBQVdDLEVBQXNCd0UsR0FBVyxJQUFoQyxNQUFFQyxFQUFLLFNBQUVDLEdBQVUxRSxFQUM3QlUsS0FBS2lFLE9BQVNGLEVBQ2QvRCxLQUFLa0UsVUFBWUYsRUFDakJoRSxLQUFLbUUsV0FBYUwsQ0FDcEIsQ0FFQU0sV0FBQUEsR0FDRXBFLEtBQUtpRSxPQUFPTixTQUFTVSxJQUNuQnJFLEtBQUtrRSxVQUFVRyxFQUFLLEdBRXhCLENBRUFDLE9BQUFBLENBQVFELEdBQ05yRSxLQUFLbUUsV0FBV0ksUUFBUUYsRUFDMUIsR0NpQkYsRUFoQ0EsTUFDRWhGLFdBQUFBLENBQVdDLEdBQVksSUFBWCxNQUFFa0YsR0FBT2xGLEVBQ25CVSxLQUFLeUUsT0FBU0QsQ0FDaEIsQ0FFQUUsSUFBQUEsR0FDRTFFLEtBQUt5RSxPQUFPM0QsVUFBVUMsSUFBSSxnQkFDMUI0RCxTQUFTdEQsaUJBQWlCLFVBQVdyQixLQUFLNEUsa0JBQzVDLENBRUFDLEtBQUFBLEdBQ0U3RSxLQUFLeUUsT0FBTzNELFVBQVVFLE9BQU8sZ0JBQzdCMkQsU0FBU0csb0JBQW9CLFVBQVc5RSxLQUFLNEUsa0JBQy9DLENBRUFBLGtCQUFxQkcsSUFDSCxXQUFaQSxFQUFJQyxLQUNOaEYsS0FBSzZFLE9BQ1AsRUFHRkksaUJBQUFBLEdBQ0VqRixLQUFLeUUsT0FBT3BELGlCQUFpQixhQUFjMEQsS0FFdkNBLEVBQUlHLE9BQU9wRSxVQUFVcUUsU0FBUyxVQUM5QkosRUFBSUcsT0FBT3BFLFVBQVVxRSxTQUFTLHlCQUU5Qm5GLEtBQUs2RSxPQUNQLEdBRUosR0NTRixFQXJDQSxjQUE0Qk8sRUFDMUIvRixXQUFBQSxDQUFXQyxFQUE4QnNDLEdBQVEsSUFBckMsTUFBRTRDLEVBQUssaUJBQUVhLEdBQWtCL0YsRUFDckNnRyxNQUFNLENBQUVkLFVBQ1J4RSxLQUFLdUYsV0FBYXZGLEtBQUt5RSxPQUN2QnpFLEtBQUt3RixrQkFBb0JILEVBQ3pCckYsS0FBSzhCLGVBQWlCRixFQUFPRyxjQUM3Qi9CLEtBQUtvRCxXQUFhLElBQ2JwRCxLQUFLdUYsV0FBVzNCLGlCQUFpQjVELEtBQUs4QixnQkFFN0MsQ0FFQTJELGVBQUFBLEdBQ0UsTUFBTUMsRUFBYSxDQUFDLEVBTXBCLE9BSkExRixLQUFLb0QsV0FBV08sU0FBU2dDLElBQ3ZCRCxFQUFXQyxFQUFNbEcsTUFBUWtHLEVBQU1DLEtBQUssSUFHL0JGLENBQ1QsQ0FFQUcsY0FBQUEsQ0FBZUMsR0FDYjlGLEtBQUtvRCxXQUFXTyxTQUFTZ0MsSUFDdkJBLEVBQU1DLE1BQVFFLEVBQUtILEVBQU1sRyxLQUFLLEdBRWxDLENBRUF3RixpQkFBQUEsR0FDRUssTUFBTUwsb0JBQ05qRixLQUFLdUYsV0FBV2xFLGlCQUFpQixVQUFXMEQsSUFDMUNBLEVBQUlnQixpQkFDSi9GLEtBQUt3RixrQkFBa0J4RixLQUFLeUYsbUJBQzVCVixFQUFJRyxPQUFPYyxPQUFPLEdBRXRCLEdDbkNGLE1BQU1DLEVBQWN0QixTQUFTakUsY0FBYyxtQkFDckN3RixFQUFxQnZCLFNBQVNqRSxjQUFjLHlCQUM1Q3lGLEVBQWdCeEIsU0FBU2pFLGNBQWMsbUJBRXZDMEYsRUFBY3pCLFNBQVNqRSxjQUFjLG1CQUNyQ2xCLEVBQWVtRixTQUFTakUsY0FBYyxrQkFBa0IyRixRQUV4REMsRUFBWTNCLFNBQVM0QixlQUFlLGNBQ3BDQyxFQUFlN0IsU0FBUzRCLGVBQWUsa0JBQ3ZDRSxFQUFjOUIsU0FBUzRCLGVBQWUscUJBQ3RDRyxFQUFrQi9CLFNBQVM0QixlQUFlLDZCQUMxQ0ksRUFBb0JoQyxTQUFTNEIsZUFBZSx1QkFFNUNLLEVBQWVELEVBQWtCakcsY0FBYyxrQkFDL0NtRyxFQUFtQkYsRUFBa0JqRyxjQUFjLHNCQUVuRG9HLEVBQWlCbkMsU0FBU2pFLGNBQWMseUJBQ3hDcUcsRUFBYXBDLFNBQVNqRSxjQUFjLHlCQUNwQ3NHLEVBQWdCckMsU0FBU2pFLGNBQWMsd0JBRXZDa0IsRUFBUyxDQUNicUYsYUFBYyxlQUNkbEYsY0FBZSxnQkFDZkUscUJBQXNCLHlCQUN0QkUsb0JBQXFCLGlDQUNyQkUsZ0JBQWlCLDBCQUNqQkUsV0FBWSw2QkNoQmQsTUFBTTJFLEVBQVcsSUNYakIsTUFDRTdILFdBQUFBLENBQVdDLEdBQWtELElBQWpELFNBQUU2SCxFQUFRLGdCQUFFQyxFQUFlLGlCQUFFQyxHQUFrQi9ILEVBQ3pEVSxLQUFLc0gsVUFBWUgsRUFDakJuSCxLQUFLdUgsaUJBQW1CSCxFQUN4QnBILEtBQUt3SCxrQkFBb0JILENBQzNCLENBRUFJLFdBQUFBLEdBQ0UsTUFBTUMsRUFBVyxDQUFDLEVBS2xCLE9BSEFBLEVBQVNqSSxLQUFPTyxLQUFLc0gsVUFBVTdGLFlBQy9CaUcsRUFBU0MsTUFBUTNILEtBQUt1SCxpQkFBaUI5RixZQUVoQ2lHLENBQ1QsQ0FFQUUsV0FBQUEsQ0FBWUMsR0FDVjdILEtBQUtzSCxVQUFVN0YsWUFBY29HLEVBQUtwSSxLQUNsQ08sS0FBS3VILGlCQUFpQjlGLFlBQWNvRyxFQUFLRixLQUMzQyxDQUVBRyxtQkFBQUEsQ0FBb0JoQyxHQUNsQjlGLEtBQUt3SCxrQkFBa0I3RixJQUFNbUUsRUFBS2lDLE9BQ2xDL0gsS0FBS3dILGtCQUFrQjlGLElBQU0xQixLQUFLc0gsVUFBVTdGLFdBQzlDLEdEYjRCLENBQzVCMEYsU0FBVWEsRUFDVlosZ0JBQWlCWSxFQUNqQlgsaUJBQWtCVyxJQUdkQyxFQUFNLElFakJaLE1BQ0U1SSxXQUFBQSxDQUFZNkksR0FDVmxJLEtBQUttSSxTQUFXRCxFQUFRRSxRQUN4QnBJLEtBQUtxSSxTQUFXSCxFQUFRSSxPQUMxQixDQUVBQyxvQkFBQUEsQ0FBcUJDLEdBQ25CLE9BQUlBLEVBQUlDLEdBQ0NELEVBQUlFLE9BRU5DLFFBQVFDLE9BQVEsVUFBU0osRUFBSUssU0FDdEMsQ0FFQUMsa0JBQUFBLEdBQ0UsT0FBT0MsTUFBTyxHQUFFL0ksS0FBS21JLG9CQUFxQixDQUN4Q0csUUFBU3RJLEtBQUtxSSxXQUNiVyxLQUFLaEosS0FBS3VJLHFCQUNmLENBRUFVLGVBQUFBLEdBQ0UsT0FBT0YsTUFBTyxHQUFFL0ksS0FBS21JLGlCQUFrQixDQUNyQ0csUUFBU3RJLEtBQUtxSSxXQUNiVyxLQUFLaEosS0FBS3VJLHFCQUNmLENBRUFXLGVBQUFBLENBQWdCeEIsR0FDZCxPQUFPcUIsTUFBTyxHQUFFL0ksS0FBS21JLG9CQUFxQixDQUN4Q2dCLE9BQVEsUUFDUmIsUUFBU3RJLEtBQUtxSSxTQUNkZSxLQUFNQyxLQUFLQyxVQUFVLENBQ25CN0osS0FBTWlJLEVBQVNqSSxLQUNma0ksTUFBT0QsRUFBU0MsVUFFakJxQixLQUFLaEosS0FBS3VJLHFCQUNmLENBRUFnQixVQUFBQSxDQUFXQyxHQUNULE9BQU9ULE1BQU8sR0FBRS9JLEtBQUttSSxpQkFBa0IsQ0FDckNnQixPQUFRLE9BQ1JiLFFBQVN0SSxLQUFLcUksU0FDZGUsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQjdKLEtBQU0rSixFQUFTQyxNQUNmL0osS0FBTThKLEVBQVM5SixTQUVoQnNKLEtBQUtoSixLQUFLdUkscUJBQ2YsQ0FFQW1CLFVBQUFBLENBQVdDLEdBQ1QsT0FBT1osTUFBTyxHQUFFL0ksS0FBS21JLGtCQUFrQndCLElBQVUsQ0FDL0NSLE9BQVEsU0FDUmIsUUFBU3RJLEtBQUtxSSxXQUNiVyxLQUFLaEosS0FBS3VJLHFCQUNmLENBRUFxQixPQUFBQSxDQUFRRCxHQUNOLE9BQU9aLE1BQU8sR0FBRS9JLEtBQUttSSxrQkFBa0J3QixVQUFnQixDQUNyRFIsT0FBUSxNQUNSYixRQUFTdEksS0FBS3FJLFdBQ2JXLEtBQUtoSixLQUFLdUkscUJBQ2YsQ0FFQXNCLFVBQUFBLENBQVdGLEdBQ1QsT0FBT1osTUFBTyxHQUFFL0ksS0FBS21JLGtCQUFrQndCLFVBQWdCLENBQ3JEUixPQUFRLFNBQ1JiLFFBQVN0SSxLQUFLcUksV0FDYlcsS0FBS2hKLEtBQUt1SSxxQkFDZixDQUVBdUIsa0JBQUFBLENBQW1CcEssR0FDakIsT0FBT3FKLE1BQU8sR0FBRS9JLEtBQUttSSwyQkFBNEIsQ0FDL0NnQixPQUFRLFFBQ1JiLFFBQVN0SSxLQUFLcUksU0FDZGUsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQnZCLE9BQVFySSxFQUFLcUksV0FFZGlCLEtBQUtoSixLQUFLdUkscUJBQ2YsR0YzRGtCLENBQ2xCSCxRQUFTLGtEQUNURSxRQUFTLENBQ1B5QixjQUFlLHVDQUNmLGVBQWdCLHNCQUlwQnBCLFFBQVFxQixJQUFJLENBQUMvQixFQUFJYSxxQkFBc0JiLEVBQUlnQixvQkFBb0JELE1BQzdEMUosSUFBOEIsSUFBNUJvSSxFQUFVdUMsR0FBYTNLLEVBQ3ZCNEgsRUFBU1UsWUFBWUYsR0FDckJSLEVBQVNZLG9CQUFvQkosR0FDTixJQUFJd0MsRUFDekIsQ0FDRW5HLE1BQU9rRyxFQUNQakcsU0FBVW1HLEdBRVpuQyxHQUVhNUQsYUFBYSxJQUloQyxNQTRDTStGLEVBQVdYLElBQ2YsTUFBTVksRUE3Q1laLEtBQ2xCLE1BQU1hLEVBQWMsSUFBSUMsRUFDdEJkLEVBQ0EsQ0FDRTNKLGdCQUFpQkEsSUFBTTBLLEVBQVc3RixLQUFLOEUsR0FDdkMxSixrQkFBbUJBLEtBQ2pCMEssRUFBZTlGLE9BQ2Y4RixFQUFlQyxZQUFXLEtBQ3hCeEMsRUFDR3lCLFdBQVdGLEVBQVM1SixLQUNwQm9KLE1BQUssS0FDSndCLEVBQWUzRixRQUNmd0YsRUFBWXBKLFlBQVksSUFFekJ5SixPQUFPQyxHQUFRQyxRQUFRQyxNQUFNRixJQUFLLEdBQ3JDLEVBRUo1SyxnQkFBa0JxSyxJQUVYWixFQUFTN0osUUFVWnNJLEVBQ0c0QixXQUFXTyxHQUNYcEIsTUFBTVIsSUFDTDZCLEVBQVkxSixRQUFRNkgsRUFBSTdJLFNBQ3hCaUwsUUFBUUMsTUFBTSxVQUNkRCxRQUFRRSxJQUFJdEMsRUFBSTdJLFFBQVEsSUFFekIrSyxPQUFPQyxHQUFRQyxRQUFRQyxNQUFNRixLQWhCaEMxQyxFQUNHMkIsUUFBUVEsR0FDUnBCLE1BQU1SLElBQ0w2QixFQUFZMUosUUFBUTZILEdBQ3BCb0MsUUFBUUUsSUFBSSxPQUNaRixRQUFRRSxJQUFJdEMsRUFBSTdJLFFBQVEsSUFFekIrSyxPQUFPQyxHQUFRQyxRQUFRQyxNQUFNRixJQVVsQyxHQUdKM0MsR0FFRixPQUFPcUMsRUFBWTlJLFNBQVMsRUFHZndKLENBQVd2QixHQUN4QndCLEVBQVkxRyxRQUFROEYsRUFBSyxFQUdyQlksRUFBYyxJQUFJZCxFQUN0QixDQUNFbkcsTUFBTyxHQUNQQyxTQUFVQSxRQUVaZ0UsR0FHSXVDLEVBQWEsSUcvRm5CLGNBQTZCbkYsRUFDM0IvRixXQUFBQSxDQUFXQyxFQUFpQ2tGLEdBQU8sSUFBdkMsV0FBRStGLEVBQVUsZUFBRVUsR0FBZ0IzTCxFQUN4Q2dHLE1BQU0sQ0FBRWQsVUFDUnhFLEtBQUt5RSxPQUFTRCxFQUNkeEUsS0FBS2tMLFlBQWNYLEVBQ25CdkssS0FBS21MLGdCQUFrQkYsQ0FDekIsQ0FFQXZHLElBQUFBLENBQUtvQixHQUNIUixNQUFNWixPQUNOMUUsS0FBS2tMLFlBQVl2SixJQUFNbUUsRUFBS3BHLEtBQzVCTSxLQUFLa0wsWUFBWXhKLElBQU1vRSxFQUFLckcsS0FDNUJPLEtBQUttTCxnQkFBZ0IxSixZQUFjcUUsRUFBS3JHLElBQzFDLEdIbUZBLENBQ0U4SyxXQUFZdkMsRUFDWmlELGVBQWdCakQsR0FFbEJBLEdBRUlvRCxFQUFlLElBQUlDLEVBQ3ZCLENBQ0U3RyxNQUFPd0QsRUFDUDNDLGlCQUFtQmlHLElBQ2pCckQsRUFDR2lCLGdCQUFnQm9DLEdBQ2hCdEMsTUFBTXNDLElBQ0xwRSxFQUFTVSxZQUFZMEQsR0FDckJGLEVBQWF2RyxPQUFPLElBRXJCNkYsT0FBT0MsR0FBUUMsUUFBUUMsTUFBTUYsSUFBSyxHQUd6QzNDLEdBRUl1RCxFQUFlLElBQUlGLEVBQ3ZCLENBQ0U3RyxNQUFPd0QsRUFDUDNDLGlCQUFtQm1HLElBQ2pCdkQsRUFDR3NCLFdBQVdpQyxHQUNYeEMsTUFBTXdDLElBQ0xyQixFQUFRcUIsR0FDUkQsRUFBYTFHLE9BQU8sSUFFckI2RixPQUFPQyxHQUFRQyxRQUFRQyxNQUFNRixJQUFLLEdBR3pDM0MsR0FFSXlELEVBQWlCLElBQUlKLEVBQ3pCLENBQ0U3RyxNQUFPd0QsRUFDUDNDLGlCQUFtQnFHLElBQ2pCekQsRUFDRzZCLG1CQUFtQjRCLEdBQ25CMUMsTUFBTVIsSUFDTHRCLEVBQVNZLG9CQUFvQlUsR0FDN0JpRCxFQUFlNUcsT0FBTyxJQUV2QjZGLE9BQU9DLEdBQVFDLFFBQVFDLE1BQU1GLElBQUssR0FHekMzQyxHQUVJd0MsRUFBaUIsSUluSnZCLGNBQW9DcEYsRUFDbEMvRixXQUFBQSxDQUFXQyxFQUFZc0MsR0FBUSxJQUFuQixNQUFFNEMsR0FBT2xGLEVBQ25CZ0csTUFBTSxDQUFFZCxVQUNSeEUsS0FBS3VGLFdBQWF2RixLQUFLeUUsT0FDdkJ6RSxLQUFLMkwsY0FBZ0IvSixFQUFPSyxvQkFDOUIsQ0FFQXdJLFVBQUFBLENBQVdtQixHQUNUNUwsS0FBS3dGLGtCQUFvQm9HLENBQzNCLENBRUEzRyxpQkFBQUEsR0FDRUssTUFBTUwsb0JBQ05qRixLQUFLdUYsV0FBV2xFLGlCQUFpQixVQUFXMEQsSUFDMUNBLEVBQUlnQixpQkFDSi9GLEtBQUt3RixtQkFBbUIsR0FFNUIsR0ptSUEsQ0FDRWhCLE1BQU93RCxHQUVUQSxHQWtCRkEsRUFBQUEsaUJBQTBDLFNBZmY2RCxLQUN6QixNQUFNbkUsRUFBV1IsRUFBU08sY0FDMUIyRCxFQUFhdkYsZUFBZTZCLEdBQzVCb0UsRUFBZSxhQUFhcEksa0JBQzVCMEgsRUFBYTFHLE1BQU0sSUFZckJzRCxFQUFBQSxpQkFBc0MsU0FWUitELEtBQzVCRCxFQUFlLGlCQUFpQnBJLGtCQUNoQzZILEVBQWE3RyxNQUFNLElBU3JCc0QsRUFBQUEsaUJBQXlDLFNBUFpnRSxLQUMzQkYsRUFBZSxvQkFBb0JwSSxrQkFDbkMrSCxFQUFlL0csTUFBTSxJQU92QjZGLEVBQVd0RixvQkFDWG1HLEVBQWFuRyxvQkFDYnNHLEVBQWF0RyxvQkFDYndHLEVBQWV4RyxvQkFDZnVGLEVBQWV2RixvQkFFZixNQUFNNkcsRUFBaUIsQ0FBQyxFQUNFbEssS0FDUCxJQUFJK0MsU0FBU2YsaUJBQWlCaEMsRUFBT3FGLGVBQzdDdEQsU0FBU3NJLElBQ2hCLE1BQU1DLEVBQVksSUFBSUMsRUFBY3ZLLEVBQVFxSyxHQUN0Q0csRUFBV0gsRUFBS0ksYUFBYSxRQUVuQ1AsRUFBZU0sR0FBWUYsRUFDM0JBLEVBQVVySSxrQkFBa0IsR0FDNUIsRUFFSkEsQ0FBaUJtRSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB7IG5hbWUsIGxpbmssIGlzTGlrZWQsIF9pZCB9LFxyXG4gICAgeyBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZURlbGV0ZUNsaWNrLCBoYW5kbGVMaWtlQ2xpY2sgfSxcclxuICAgIGNhcmRUZW1wbGF0ZVxyXG4gICkge1xyXG4gICAgdGhpcy5fdGl0bGUgPSBuYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGxpbms7XHJcbiAgICB0aGlzLl9pZCA9IF9pZDtcclxuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xyXG4gICAgdGhpcy5fY2FyZFRlbXBsYXRlID0gY2FyZFRlbXBsYXRlO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gdGhpcy5fY2FyZFRlbXBsYXRlXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSlcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBzZXRMaWtlKGlzTGlrZWQpIHtcclxuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xyXG4gICAgdGhpcy5fcmVuZGVyTGlrZSgpO1xyXG4gIH1cclxuXHJcbiAgX3JlbmRlckxpa2UgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xyXG4gICAgICB0aGlzLl9saWtlQnRuLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9saWtlQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmVtb3ZlQ2FyZCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xyXG4gIH07XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2FyZENsaWNrKTtcclxuXHJcbiAgICB0aGlzLl9saWtlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzLl9pZCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9kZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKTtcclxuICB9XHJcblxyXG4gIGdldFZpZXcoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcblxyXG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9saWtlQnRuID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2RlbGV0ZUJ0biA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcclxuXHJcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl90aXRsZTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl90aXRsZTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG5cclxuICAgIHRoaXMuX3JlbmRlckxpa2UoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcclxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xyXG5cclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuXHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcblxyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIGNoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gW1xyXG4gICAgICAuLi50aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpLFxyXG4gICAgXTtcclxuXHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XHJcbiIsImNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldEl0ZW0oaXRlbSkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uO1xyXG4iLCJjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cCB9KSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IHBvcHVwO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVDbG9zZUJ5RXNjKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUNsb3NlQnlFc2MpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUNsb3NlQnlFc2MgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikgfHxcclxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZS1idXR0b25cIilcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXA7XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwLCBoYW5kbGVGb3JtU3VibWl0IH0sIGNvbmZpZykge1xyXG4gICAgc3VwZXIoeyBwb3B1cCB9KTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbXHJcbiAgICAgIC4uLnRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpLFxyXG4gICAgXTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7fTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGZvcm1WYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRJbnB1dFZhbHVlcyhkYXRhKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICBldnQudGFyZ2V0LnJlc2V0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm07XHJcbiIsIi8vIFByb2ZpbGUgZGF0YVxyXG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XHJcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpO1xyXG4vLyBDYXJkIGdhbGxlcnkgKyBjYXJkIHRlbXBsYXRlXHJcbmNvbnN0IGNhcmRHYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19jYXJkc1wiKTtcclxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpLmNvbnRlbnQ7XHJcbi8vIEFsbCBtb2RhbHNcclxuY29uc3QgZWRpdE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0LW1vZGFsXCIpO1xyXG5jb25zdCBuZXdDYXJkTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ldy1jYXJkLW1vZGFsXCIpO1xyXG5jb25zdCBhdmF0YXJNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXZhdGFyLWVkaXQtbW9kYWxcIik7XHJcbmNvbnN0IGRlbGV0ZUNhcmRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVsZXRlLWNvbmZpcm1hdGlvbi1tb2RhbFwiKTtcclxuY29uc3QgcHJldmlld0ltYWdlTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByZXZpZXctaW1hZ2UtbW9kYWxcIik7XHJcbi8vIFByZXZpZXcgaW1hZ2UgKyB0ZXh0XHJcbmNvbnN0IHByZXZpZXdJbWFnZSA9IHByZXZpZXdJbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIucHJldmlldy1pbWFnZVwiKTtcclxuY29uc3QgcHJldmlld0ltYWdlVGV4dCA9IHByZXZpZXdJbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2UtZGVzY3JpcHRpb25cIik7XHJcbi8vIEJ1dHRvbnNcclxuY29uc3QgcHJvZmlsZUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBuZXdDYXJkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19wbHVzLWJ1dHRvblwiKTtcclxuY29uc3QgYXZhdGFyRWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdF9fYXZhdGFyLWJ1dHRvblwiKTtcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19jb25maXJtLWJ1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2NvbmZpcm0tYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbn07XHJcblxyXG5leHBvcnQge1xyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbixcclxuICBwcm9maWxlQXZhdGFyLFxyXG4gIGNhcmRHYWxsZXJ5LFxyXG4gIGNhcmRUZW1wbGF0ZSxcclxuICBlZGl0TW9kYWwsXHJcbiAgbmV3Q2FyZE1vZGFsLFxyXG4gIGF2YXRhck1vZGFsLFxyXG4gIGRlbGV0ZUNhcmRNb2RhbCxcclxuICBwcmV2aWV3SW1hZ2VNb2RhbCxcclxuICBwcmV2aWV3SW1hZ2VUZXh0LFxyXG4gIHByZXZpZXdJbWFnZSxcclxuICBwcm9maWxlRWRpdEJ0bixcclxuICBuZXdDYXJkQnRuLFxyXG4gIGF2YXRhckVkaXRCdG4sXHJcbiAgY29uZmlnLFxyXG59O1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiL3NyYy9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIvc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIvc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIvc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSBcIi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi9zcmMvY29tcG9uZW50cy9BcGkuanNcIjtcclxuLy8gVXNlciBEYXRhXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICB1c2VyTmFtZTogY29uc3RhbnRzLnByb2ZpbGVOYW1lLFxyXG4gIHVzZXJEZXNjcmlwdGlvbjogY29uc3RhbnRzLnByb2ZpbGVEZXNjcmlwdGlvbixcclxuICB1c2VyUHJvZmlsZUltYWdlOiBjb25zdGFudHMucHJvZmlsZUF2YXRhcixcclxufSk7XHJcbi8vIEFwaSBJbnN0YW50aWF0aW9uXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjlmYmZhYjFiLTY5ZDYtNDNhOS1iMDg1LTYwZDU3YjA3NDMwOVwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvcm1hdGlvbigpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKS50aGVuKFxyXG4gIChbdXNlckRhdGEsIGluaXRpYWxDYXJkc10pID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJQcm9maWxlSW1hZ2UodXNlckRhdGEpO1xyXG4gICAgY29uc3QgYXBpQ2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICAgICAge1xyXG4gICAgICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXHJcbiAgICAgICAgcmVuZGVyZXI6IGFkZENhcmQsXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnN0YW50cy5jYXJkR2FsbGVyeVxyXG4gICAgKTtcclxuICAgIGFwaUNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKCk7XHJcbiAgfVxyXG4pO1xyXG4vLyBDcmVhdGUgQ2FyZCArIEFkZCBDYXJkIEZ1bmN0aW9uc1xyXG5jb25zdCBjcmVhdGVDYXJkID0gKGNhcmREYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXcgQ2FyZChcclxuICAgIGNhcmREYXRhLFxyXG4gICAge1xyXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHBvcHVwSW1hZ2Uub3BlbihjYXJkRGF0YSksXHJcbiAgICAgIGhhbmRsZURlbGV0ZUNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgZGVsZXRlTW9kYWxOZXcub3BlbigpO1xyXG4gICAgICAgIGRlbGV0ZU1vZGFsTmV3LnN1Ym1pdEZvcm0oKCkgPT4ge1xyXG4gICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgIC5kZWxldGVDYXJkKGNhcmREYXRhLl9pZClcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGRlbGV0ZU1vZGFsTmV3LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgY2FyZEVsZW1lbnQucmVtb3ZlQ2FyZCgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlTGlrZUNsaWNrOiAoY2FyZCkgPT4ge1xyXG4gICAgICAgIC8vIGRlYnVnZ2VyO1xyXG4gICAgICAgIGlmICghY2FyZERhdGEuaXNMaWtlZCkge1xyXG4gICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgIC5hZGRMaWtlKGNhcmQpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICBjYXJkRWxlbWVudC5zZXRMaWtlKHJlcyk7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJhZGRcIik7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmlzTGlrZWQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgIC5kZWxldGVMaWtlKGNhcmQpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICBjYXJkRWxlbWVudC5zZXRMaWtlKHJlcy5pc0xpa2VkKTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiZGVsZXRlXCIpO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5pc0xpa2VkKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIGNvbnN0YW50cy5jYXJkVGVtcGxhdGVcclxuICApO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudC5nZXRWaWV3KCk7XHJcbn07XHJcbmNvbnN0IGFkZENhcmQgPSAoY2FyZERhdGEpID0+IHtcclxuICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChjYXJkRGF0YSk7XHJcbiAgY2FyZFNlY3Rpb24uc2V0SXRlbShjYXJkKTtcclxufTtcclxuLy8gU2VjdGlvbiBpbnN0YW5jZSB0byB1c2UgbWV0aG9kc1xyXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIGl0ZW1zOiBbXSxcclxuICAgIHJlbmRlcmVyOiAoKSA9PiB7fSxcclxuICB9LFxyXG4gIGNvbnN0YW50cy5jYXJkR2FsbGVyeVxyXG4pO1xyXG4vLyBQb3B1cCBJbnN0YW50aWF0aW9uc1xyXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFxyXG4gIHtcclxuICAgIHBvcHVwSW1hZ2U6IGNvbnN0YW50cy5wcmV2aWV3SW1hZ2UsXHJcbiAgICBwb3B1cEltYWdlVGV4dDogY29uc3RhbnRzLnByZXZpZXdJbWFnZVRleHQsXHJcbiAgfSxcclxuICBjb25zdGFudHMucHJldmlld0ltYWdlTW9kYWxcclxuKTtcclxuY29uc3QgZWRpdE1vZGFsTmV3ID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAge1xyXG4gICAgcG9wdXA6IGNvbnN0YW50cy5lZGl0TW9kYWwsXHJcbiAgICBoYW5kbGVGb3JtU3VibWl0OiAoZWRpdE1vZGFsRGF0YSkgPT4ge1xyXG4gICAgICBhcGlcclxuICAgICAgICAuZWRpdFByb2ZpbGVEYXRhKGVkaXRNb2RhbERhdGEpXHJcbiAgICAgICAgLnRoZW4oKGVkaXRNb2RhbERhdGEpID0+IHtcclxuICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGVkaXRNb2RhbERhdGEpO1xyXG4gICAgICAgICAgZWRpdE1vZGFsTmV3LmNsb3NlKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBjb25zdGFudHMuY29uZmlnXHJcbik7XHJcbmNvbnN0IGNhcmRNb2RhbE5ldyA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIHtcclxuICAgIHBvcHVwOiBjb25zdGFudHMubmV3Q2FyZE1vZGFsLFxyXG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogKG5ld0NhcmREYXRhKSA9PiB7XHJcbiAgICAgIGFwaVxyXG4gICAgICAgIC5hZGROZXdDYXJkKG5ld0NhcmREYXRhKVxyXG4gICAgICAgIC50aGVuKChuZXdDYXJkRGF0YSkgPT4ge1xyXG4gICAgICAgICAgYWRkQ2FyZChuZXdDYXJkRGF0YSk7XHJcbiAgICAgICAgICBjYXJkTW9kYWxOZXcuY2xvc2UoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIGNvbnN0YW50cy5jb25maWdcclxuKTtcclxuY29uc3QgYXZhdGFyTW9kYWxOZXcgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICB7XHJcbiAgICBwb3B1cDogY29uc3RhbnRzLmF2YXRhck1vZGFsLFxyXG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogKGF2YXRhckRhdGEpID0+IHtcclxuICAgICAgYXBpXHJcbiAgICAgICAgLnVwZGF0ZVByb2ZpbGVJbWFnZShhdmF0YXJEYXRhKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJQcm9maWxlSW1hZ2UocmVzKTtcclxuICAgICAgICAgIGF2YXRhck1vZGFsTmV3LmNsb3NlKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBjb25zdGFudHMuY29uZmlnXHJcbik7XHJcbmNvbnN0IGRlbGV0ZU1vZGFsTmV3ID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcclxuICB7XHJcbiAgICBwb3B1cDogY29uc3RhbnRzLmRlbGV0ZUNhcmRNb2RhbCxcclxuICB9LFxyXG4gIGNvbnN0YW50cy5jb25maWdcclxuKTtcclxuLy8gSGFuZGxlciBGdW5jdGlvbnNcclxuY29uc3QgaGFuZGxlRWRpdEZvcm1PcGVuID0gKCkgPT4ge1xyXG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBlZGl0TW9kYWxOZXcuc2V0SW5wdXRWYWx1ZXModXNlckRhdGEpO1xyXG4gIGZvcm1WYWxpZGF0b3JzW1wiZWRpdC1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGVkaXRNb2RhbE5ldy5vcGVuKCk7XHJcbn07XHJcbmNvbnN0IGhhbmRsZU5ld0NhcmRGb3JtT3BlbiA9ICgpID0+IHtcclxuICBmb3JtVmFsaWRhdG9yc1tcIm5ldy1jYXJkLWZvcm1cIl0ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgY2FyZE1vZGFsTmV3Lm9wZW4oKTtcclxufTtcclxuY29uc3QgaGFuZGxlQXZhdGFyRWRpdE9wZW4gPSAoKSA9PiB7XHJcbiAgZm9ybVZhbGlkYXRvcnNbXCJhdmF0YXItZWRpdC1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGF2YXRhck1vZGFsTmV3Lm9wZW4oKTtcclxufTtcclxuLy8gQ2xpY2sgSGFuZGxlcnNcclxuY29uc3RhbnRzLnByb2ZpbGVFZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVFZGl0Rm9ybU9wZW4pO1xyXG5jb25zdGFudHMubmV3Q2FyZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlTmV3Q2FyZEZvcm1PcGVuKTtcclxuY29uc3RhbnRzLmF2YXRhckVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUF2YXRhckVkaXRPcGVuKTtcclxuLy8gRXZlbnQgTGlzdGVuZXJzXHJcbnBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuZWRpdE1vZGFsTmV3LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmNhcmRNb2RhbE5ldy5zZXRFdmVudExpc3RlbmVycygpO1xyXG5hdmF0YXJNb2RhbE5ldy5zZXRFdmVudExpc3RlbmVycygpO1xyXG5kZWxldGVNb2RhbE5ldy5zZXRFdmVudExpc3RlbmVycygpO1xyXG4vLyBTZXQgYW5kIGVuYWJsZSB2YWxpZGF0aW9uIGZvciBhbGwgZm9ybXNcclxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcclxuICBjb25zdCBmb3JtTGlzdCA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpXTtcclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtKSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm0pO1xyXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XHJcblxyXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xyXG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICB9KTtcclxufTtcclxuZW5hYmxlVmFsaWRhdGlvbihjb25zdGFudHMuY29uZmlnKTtcclxuIiwiY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgdXNlck5hbWUsIHVzZXJEZXNjcmlwdGlvbiwgdXNlclByb2ZpbGVJbWFnZSB9KSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZSA9IHVzZXJOYW1lO1xyXG4gICAgdGhpcy5fdXNlckRlc2NyaXB0aW9uID0gdXNlckRlc2NyaXB0aW9uO1xyXG4gICAgdGhpcy5fdXNlclByb2ZpbGVJbWFnZSA9IHVzZXJQcm9maWxlSW1hZ2U7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0ge307XHJcblxyXG4gICAgdXNlckRhdGEubmFtZSA9IHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50O1xyXG4gICAgdXNlckRhdGEuYWJvdXQgPSB0aGlzLl91c2VyRGVzY3JpcHRpb24udGV4dENvbnRlbnQ7XHJcblxyXG4gICAgcmV0dXJuIHVzZXJEYXRhO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oaW5mbykge1xyXG4gICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSBpbmZvLm5hbWU7XHJcbiAgICB0aGlzLl91c2VyRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBpbmZvLmFib3V0O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlclByb2ZpbGVJbWFnZShkYXRhKSB7XHJcbiAgICB0aGlzLl91c2VyUHJvZmlsZUltYWdlLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gICAgdGhpcy5fdXNlclByb2ZpbGVJbWFnZS5hbHQgPSB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvO1xyXG4iLCJjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrU2VydmVyUmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm9ybWF0aW9uKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1NlcnZlclJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBlZGl0UHJvZmlsZURhdGEodXNlckRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiB1c2VyRGF0YS5uYW1lLFxyXG4gICAgICAgIGFib3V0OiB1c2VyRGF0YS5hYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrU2VydmVyUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgYWRkTmV3Q2FyZChjYXJkRGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogY2FyZERhdGEudGl0bGUsXHJcbiAgICAgICAgbGluazogY2FyZERhdGEubGluayxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrU2VydmVyUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tTZXJ2ZXJSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBhZGRMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1NlcnZlclJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrU2VydmVyUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlUHJvZmlsZUltYWdlKGxpbmspIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBsaW5rLmF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrU2VydmVyUmVzcG9uc2UpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQXBpO1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBJbWFnZSwgcG9wdXBJbWFnZVRleHQgfSwgcG9wdXApIHtcclxuICAgIHN1cGVyKHsgcG9wdXAgfSk7XHJcbiAgICB0aGlzLl9wb3B1cCA9IHBvcHVwO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHBvcHVwSW1hZ2U7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlVGV4dCA9IHBvcHVwSW1hZ2VUZXh0O1xyXG4gIH1cclxuXHJcbiAgb3BlbihkYXRhKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZVRleHQudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZTtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cCB9LCBjb25maWcpIHtcclxuICAgIHN1cGVyKHsgcG9wdXAgfSk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cDtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICB9XHJcblxyXG4gIHN1Ym1pdEZvcm0oY2FsbEJhY2spIHtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBjYWxsQmFjaztcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoQ29uZmlybWF0aW9uO1xyXG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJfcmVmIiwiX3JlZjIiLCJjYXJkVGVtcGxhdGUiLCJuYW1lIiwibGluayIsImlzTGlrZWQiLCJfaWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUxpa2VDbGljayIsInRoaXMiLCJfdGl0bGUiLCJfbGluayIsIl9pc0xpa2VkIiwiX2NhcmRUZW1wbGF0ZSIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfaGFuZGxlTGlrZUNsaWNrIiwiX2dldFRlbXBsYXRlIiwiY2xvbmVOb2RlIiwicXVlcnlTZWxlY3RvciIsInNldExpa2UiLCJfcmVuZGVyTGlrZSIsIl9saWtlQnRuIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwicmVtb3ZlQ2FyZCIsIl9jYXJkRWxlbWVudCIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9jYXJkSW1hZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwiX2RlbGV0ZUJ0biIsImdldFZpZXciLCJfY2FyZFRpdGxlIiwidGV4dENvbnRlbnQiLCJhbHQiLCJzcmMiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiX2hpZGVJbnB1dEVycm9yIiwiY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbnB1dExpc3QiLCJzb21lIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2J1dHRvbkVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZXNldFZhbGlkYXRpb24iLCJmb3JFYWNoIiwicXVlcnlTZWxlY3RvckFsbCIsImVuYWJsZVZhbGlkYXRpb24iLCJjb250YWluZXIiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbSIsInNldEl0ZW0iLCJwcmVwZW5kIiwicG9wdXAiLCJfcG9wdXAiLCJvcGVuIiwiZG9jdW1lbnQiLCJfaGFuZGxlQ2xvc2VCeUVzYyIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cCIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9nZXRJbnB1dFZhbHVlcyIsImZvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwic2V0SW5wdXRWYWx1ZXMiLCJkYXRhIiwicHJldmVudERlZmF1bHQiLCJyZXNldCIsInByb2ZpbGVOYW1lIiwicHJvZmlsZURlc2NyaXB0aW9uIiwicHJvZmlsZUF2YXRhciIsImNhcmRHYWxsZXJ5IiwiY29udGVudCIsImVkaXRNb2RhbCIsImdldEVsZW1lbnRCeUlkIiwibmV3Q2FyZE1vZGFsIiwiYXZhdGFyTW9kYWwiLCJkZWxldGVDYXJkTW9kYWwiLCJwcmV2aWV3SW1hZ2VNb2RhbCIsInByZXZpZXdJbWFnZSIsInByZXZpZXdJbWFnZVRleHQiLCJwcm9maWxlRWRpdEJ0biIsIm5ld0NhcmRCdG4iLCJhdmF0YXJFZGl0QnRuIiwiZm9ybVNlbGVjdG9yIiwidXNlckluZm8iLCJ1c2VyTmFtZSIsInVzZXJEZXNjcmlwdGlvbiIsInVzZXJQcm9maWxlSW1hZ2UiLCJfdXNlck5hbWUiLCJfdXNlckRlc2NyaXB0aW9uIiwiX3VzZXJQcm9maWxlSW1hZ2UiLCJnZXRVc2VySW5mbyIsInVzZXJEYXRhIiwiYWJvdXQiLCJzZXRVc2VySW5mbyIsImluZm8iLCJzZXRVc2VyUHJvZmlsZUltYWdlIiwiYXZhdGFyIiwiY29uc3RhbnRzIiwiYXBpIiwib3B0aW9ucyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsIl9jaGVja1NlcnZlclJlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldFVzZXJJbmZvcm1hdGlvbiIsImZldGNoIiwidGhlbiIsImdldEluaXRpYWxDYXJkcyIsImVkaXRQcm9maWxlRGF0YSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkTmV3Q2FyZCIsImNhcmREYXRhIiwidGl0bGUiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwiYWRkTGlrZSIsImRlbGV0ZUxpa2UiLCJ1cGRhdGVQcm9maWxlSW1hZ2UiLCJhdXRob3JpemF0aW9uIiwiYWxsIiwiaW5pdGlhbENhcmRzIiwiU2VjdGlvbiIsImFkZENhcmQiLCJjYXJkIiwiY2FyZEVsZW1lbnQiLCJDYXJkIiwicG9wdXBJbWFnZSIsImRlbGV0ZU1vZGFsTmV3Iiwic3VibWl0Rm9ybSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwibG9nIiwiY3JlYXRlQ2FyZCIsImNhcmRTZWN0aW9uIiwicG9wdXBJbWFnZVRleHQiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cEltYWdlVGV4dCIsImVkaXRNb2RhbE5ldyIsIlBvcHVwV2l0aEZvcm0iLCJlZGl0TW9kYWxEYXRhIiwiY2FyZE1vZGFsTmV3IiwibmV3Q2FyZERhdGEiLCJhdmF0YXJNb2RhbE5ldyIsImF2YXRhckRhdGEiLCJfc3VibWl0QnV0dG9uIiwiY2FsbEJhY2siLCJoYW5kbGVFZGl0Rm9ybU9wZW4iLCJmb3JtVmFsaWRhdG9ycyIsImhhbmRsZU5ld0NhcmRGb3JtT3BlbiIsImhhbmRsZUF2YXRhckVkaXRPcGVuIiwiZm9ybSIsInZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSJdLCJzb3VyY2VSb290IjoiIn0=